<%- include('../includes/shop/shopHead.ejs') %>
    <%- include('../includes/shop/shopHeader.ejs') %>

<div class=" container-fluid">
    <div class=" section my-5 p-md-5">
            <div class="d-flex justify-content-center align-items-center">
                <form action="/user/editaddress/<%= address._id%>?_method=PATCH" method="post" class="form-control add-address-form p-5 shadow border-1 rounded col-12 col-sm-10 col-md-6">
                    <h5>Edit Address</h5>
                    <div class="mt-4">
                        <label for="fullName" class="form-label">Full Name</label>
                        <div class="edit-element">
                            <!-- <i class="fa-solid fa-pen-to-square edit-icon" style="color: red;"></i> -->
                            <input type="text" id="fullName" name="fullName" class="form-control" value="<%=address.fullName%>">
                            <div class="error mt-1" style="color: red; font-size: small"></div>
                        </div>
                    </div>
                    <div class="mt-4">
                        <label for="mobile" class="form-label">Mobile</label>
                        <div class="mobile-input-con d-flex justify-content-between monileParent">
                            <div class="col-4 col-md-2 p-0"> <select name="countryCode" id="countryCode"
                                    class="form-select" disabled>
                                    <option value="+91">+91</option>
                                </select></div>
                            <div class="col-8 col-md-10 ps-2 pe-0 edit-element">
                                <!-- <i class="fa-solid fa-pen-to-square edit-icon" style="color: red;"></i> -->
                                <input type="text" id="mobile" name="mobile" class="form-control pe-5" value="<%=address.mobile%>">
                                
                            </div>
                        </div>
                        <div class="error mt-1" style="color: red; font-size: small"></div>
                    </div>
                    <div class="d-flex justify-content-between flex-column flex-md-row">
                        <div class="mt-3 col-md-6 p-0">
                            <label for="address" class="form-label">Address</label>
                            <div class="edit-element">
                            <input type="text" name="address" id="address" class="form-control pe-5" value="<%=address.address%>">
                            <div class="error mt-1" style="color: red; font-size: small"></div>
                        </div>
                        </div>
                        <div class="mt-3 col-md-5 p-0">
                            <label for="district" class="form-label">District</label>
                            <select name="district" id="districts" class="form-select">
                                <option value="Thiruvananthapuram">Thiruvananthapuram</option>
                                <option value="kollam">Kollam</option>
                                <option value="Pathanamthitta">Pathanamthitta</option>
                                <option value="Alappuzha">Alappuzha</option>
                                <option value="Kottayam">Kottayam</option>
                                <option value="Idukki">Idukki</option>
                                <option value="Ernakulam">Ernakulam</option>
                                <option value="Thrissur">Thrissur</option>
                                <option value="Palakkad">Palakkad</option>
                                <option value="Malappuram">Malappuram</option>
                                <option value="Kozhikode">Kozhikode</option>
                                <option value="Wayanad">Wayanad</option>
                                <option value="Kannur">Kannur</option>
                                <option value="Kasarkod">Kasarkod</option>
                            </select>
                            <div class="error mt-1" style="color: red; font-size: small"></div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between flex-column flex-md-row">
                        <div class="mt-3 col-md-6 p-0">
                            <label for="state" class="form-label">State</label>
                            <select name="state" id="state" class="form-select">
                                <option value="Kerala">Kerala</option>
                            </select>
                            <div class="error mt-1" style="color: red; font-size: small"></div>
                        </div>
                        <div class="mt-3 col-md-5 p-0">
                            <label for="pincode" class="form-label">Postal code</label>
                            <div class="edit-element">
                                
                                <input type="text" name="pincode" id="pincode" class="form-control" value="<%=address.pincode%>">
                                <div class="error mt-1" style="color: red; font-size: small"></div>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex justify-content-center mt-5">
                        <button type="submit" class="btn btn-outline-primary">Submit</button>
                    </div>
                </form>
            </div>
        </div>
   
</div>

<script>
    const selectedDistrict = '<%= address.district%>'
    const districtSelect = document.getElementById('districts');
    const districts = districtSelect.options;
    for ( let district of districts){
        if(district.value === selectedDistrict){
            district.selected = true;
        }
    }
    
</script>
<%- include('../includes/validations/editAddressVal.ejs')%>
        <%- include('../includes/shop/shopFooter.ejs') %>
            <%- include('../includes/shop/shopEnd.ejs') %>